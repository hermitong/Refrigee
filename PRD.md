# 产品需求文档 (PRD) - Refrigee

## 1. 产品概述
**产品名称:** Refrigee (智能厨房助手)
**产品定位:** 从冰箱管理器升级为厨房陪伴助手，打造用户厨房生活智能伙伴。
**目标用户:** 上班族、国际学生、家庭主妇/主夫。
**核心价值:** 通过智能库存管理、AI辅助和个性化陪伴，让厨房生活更简单、有趣、高效。

## 2. 核心功能 (MVP版本)

### 2.1 智能库存记录
- **用户故事:** 作为用户，我希望能快速记录购买的食品，这样我就能了解自己有什么。
- **功能特点:**
    - 手动输入物品名称、数量和重量。
    - **"AI" 自动分类 (MVP模拟):** 自动分类物品（例如："苹果" -> "水果"）并根据分类分配默认保质期。
    - 可手动修改过期日期。

### 2.2 过期提醒
- **用户故事:** 作为用户，我希望能提前收到食品即将变质的通知，这样我就能及时食用。
- **功能特点:**
    - 即将过期物品的视觉化指示器（例如：绿色 > 黄色 > 红色）。
    - "即将过期"仪表板区域。

### 2.3 食谱推荐
- **用户故事:** 作为用户，我希望能知道可以用现有的食材做什么菜。
- **功能特点:**
    - 输入：用餐人数。
    - 逻辑：将现有食材与预定义食谱列表进行匹配 (MVP)。
    - 输出：推荐菜品。

## 3. 用户流程
1.  **首页/主界面:** 查看当前库存概览（总物品数、即将过期物品）。
2.  **添加物品:** 点击 "+" -> 输入详细信息 -> 系统建议分类/日期 -> 确认。
3.  **库存列表:** 按过期日期排序查看所有物品。
4.  **食谱页面:** 选择"几人用餐" -> 基于库存查看建议。

## 4. 技术约束与技术栈 (MVP)
- **平台:** Web应用程序 (响应式移动优先)。
- **技术栈:**
    - 框架: React (Vite)
    - 样式: Tailwind CSS (快速美观UI) + Framer Motion (动画)。
    - 数据持久化: `localStorage` (MVP版本不使用后端，保持简单和隐私保护)。
    - AI模拟: 前端代码中基于启发式映射的分类和保质期算法。
    - 国际化: 支持中英文切换。

## 5. 下一代功能规划 (V2.0 - 厨房助手升级)

### 5.1 用户认证与云同步系统
- **用户故事:** 作为用户，我希望能够在不同设备间同步我的厨房数据，并享受个性化服务。
- **功能特点:**
    - **用户注册/登录:** 支持邮箱、手机号注册，第三方登录（微信、Google）
    - **云数据同步:** 库存、偏好、历史记录等数据云端存储
    - **多设备支持:** 手机、平板、Web端数据实时同步
    - **离线模式:** 网络断开时本地可用，恢复后自动同步
- **技术实现:** Node.js + MongoDB/PostgreSQL + JWT认证 + Redis缓存

### 5.2 多LLM API配置中心
- **用户故事:** 作为中国用户，我希望能选择最适合中文环境的AI服务，享受更智能的厨房体验。
- **支持的AI服务商:**
    - **国内厂商:** 豆包(字节跳动)、智谱AI、火山引擎、文心一言(百度)
    - **国际厂商:** OpenAI GPT系列、Google Gemini、Anthropic Claude
- **功能特点:**
    - **智能切换:** 根据功能类型自动选择最优模型
    - **成本控制:** 支持用量统计和预算提醒
    - **备用机制:** 主API不可用时自动切换备用服务
    - **配置界面:** 可视化API配置和测试工具

### 5.3 AI扫描双入口系统
#### 5.3.1 小票扫描（批量添加）
- **用户故事:** 作为用户，我希望能通过扫描购物小票快速添加所有购买的食材。
- **功能特点:**
    - **OCR识别:** 自动识别小票上的商品名称、数量、价格
    - **智能分类:** AI自动分类并归入相应存储区域（冷藏/冷冻/常温）
    - **批量导入:** 一键添加多个物品，自动计算保质期
    - **人工校验:** 识别结果可手动修改确认
- **技术实现:** Tesseract OCR + 自定义训练模型 + NLP处理

#### 5.3.2 拍照识别（单品添加）
- **用户故事:** 作为用户，我希望能通过拍摄物品快速获取其信息并添加到库存。
- **功能特点:**
    - **实时识别:** 摄像头对准物品即可实时识别
    - **品牌识别:** 支持常见食品品牌包装识别
    - **营养信息:** 自动获取营养成分表和保质期信息
    - **相似推荐:** 识别后推荐相似物品的常见用法

### 5.4 智能厨房助手首页
- **设计理念:** 从单一信息展示升级为功能丰富、具有陪伴感的交互中心
- **功能模块:**
    - **晨间问候:** 基于时间和天气的个性化问候
    - **今日提醒:** 过期提醒、库存补充建议、特价商品推荐
    - **智能建议:** 基于当前库存的烹饪建议、营养搭配建议
    - **快捷操作:** 一键扫描小票、快速添加、常用功能入口
    - **数据洞察:** 消费分析、浪费统计、省钱报告
    - **互动陪伴:** AI助手对话、烹饪小贴士、季节性食谱推荐

### 5.5 厨房陪伴生态
- **营养顾问:** 基于用户健康状况和饮食偏好的个性化建议
- **购物助手:** 基于历史消费模式的智能购物清单和价格提醒
- **社交分享:** 家庭成员共享厨房数据、菜谱分享和点评
- **智能提醒:** 基于用户习惯的智能烹饪时间提醒、保鲜技巧推送

## 6. 技术架构演进

### 6.1 前端架构
- **框架:** React 19 + TypeScript
- **状态管理:** Zustand / Redux Toolkit
- **UI组件:** 自研Design System + Tailwind CSS
- **移动端:** React Native / PWA渐进式Web应用

### 6.2 后端架构
- **API网关:** Kong / 自研网关
- **微服务架构:**
    - 用户服务 (Node.js/Go)
    - 库存服务 (Node.js)
    - AI服务 (Python)
    - 通知服务 (Node.js)
- **数据库:**
    - 主库: PostgreSQL
    - 缓存: Redis
    - 搜索: Elasticsearch
- **部署:** Docker + Kubernetes + AWS/阿里云

## 7. 商业模式规划

### 7.1 免费版
- 基础库存管理
- 每月有限AI调用次数
- 本地数据存储

### 7.2 高级版 (¥19.9/月)
- 无限AI调用
- 云端数据同步
- 高级分析报告
- 家庭共享功能

### 7.3 企业版
- 餐厅库存管理
- 批量采购优化
- 供应链集成

## 8. 里程碑规划

### Q1 2024: V1.5 发布
- 用户认证系统
- 基础云同步
- 多LLM配置

### Q2 2024: V2.0 发布
- 小票扫描功能
- AI拍照识别
- 智能首页

### Q3 2024: V2.5 发布
- 移动端APP
- 社交功能
- 高级分析

### Q4 2024: V3.0 发布
- 企业版功能
- 生态合作伙伴
- 国际化扩展
